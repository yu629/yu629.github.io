(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-workcalendar-autographPage"],{"32be":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticStyle:{height:"110upx"}},[n("goBackTitele",{attrs:{title:e.title}})],1),n("v-uni-view",{staticClass:"contents",staticStyle:{clear:"both"}},[n("v-uni-canvas",{staticClass:"firstCanvas",attrs:{"canvas-id":"firstCanvas","disable-scroll":"true"},on:{touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.move.apply(void 0,arguments)},touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.start(t)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.end.apply(void 0,arguments)},touchcancel:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.error.apply(void 0,arguments)},longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.tap.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"caozuo"},[n("v-uni-view",{staticClass:"chongqian",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearClick.apply(void 0,arguments)}}},[e._v("重签")]),n("v-uni-view",{staticClass:"over",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.overSign.apply(void 0,arguments)}}},[e._v("完成签名")])],1)],1)],1)},a=[]},3635:function(e,t,n){var i=n("8f02");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n("4f06").default;o("5ed0d45a",i,!0,{sourceMap:!1,shadowMode:!1})},3942:function(e,t,n){"use strict";n.r(t);var i=n("5a3a"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},"5a3a":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("cc47")),a=(n("93c6"),null),c=[],r=0,s=0;uni.getSystemInfo({success:function(e){r=e.windowWidth,s=e.windowHeight}});var u={components:{GoBackTitele:o.default},data:function(){return{signImage:"",title:"签名",isEnd:!1}},methods:{overSign:function(){this.isEnd?uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(e){uni.uploadFile({url:"http://dev-tsk-erp.chuangfu-sh.com/jeecg-boot/sys/common/upload",filePath:e.tempFilePath,header:{"X-Access-Token":uni.getStorageSync("Access-Token")},name:"file",formData:{},success:function(e){console.log(e.data)}})}}):uni.showToast({title:"请先完成签名",icon:"none",duration:1500,mask:!0})},start:function(e){console.log("触摸开始"+e.changedTouches[0].x),console.log("触摸开始"+e.changedTouches[0].y);var t={x:e.changedTouches[0].x,y:e.changedTouches[0].y};c.push(t)},move:function(e){var t={x:e.touches[0].x,y:e.touches[0].y};c.push(t),c.length>=2&&this.draw(c)},end:function(e){console.log("触摸结束"+e),this.isEnd=!0;for(var t=0;t<c.length;t++)c.pop()},cancel:function(e){console.log("触摸取消"+e)},tap:function(e){console.log("长按手势"+e)},error:function(e){console.log("画布触摸错误"+e)},draw:function(e){console.log(e[0],e[1]);var t=e[0],n=e[1];e.shift(),a.moveTo(t.x,t.y),a.lineTo(n.x,n.y),a.stroke(),a.draw(!0)},clearClick:function(){this.isEnd=!1,a.clearRect(0,0,r,s),a.draw(!0)}},onLoad:function(e){this,a=wx.createCanvasContext("firstCanvas"),a.setStrokeStyle("#000"),a.setLineWidth(5),a.setLineCap("round"),a.setLineJoin("round")}};t.default=u},"66e1":function(e,t,n){e.exports=n.p+"static/img/ic_back_white.de56dd23.png"},"8f02":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".ts[data-v-0c9226bf]{color:#ff485d;font-size:%?30?%;height:%?100?%;line-height:%?100?%;padding-left:%?20?%}uni-canvas[data-v-0c9226bf]{background-color:#ddd;width:%?700?%;margin:0 %?25?%;height:calc(100vh - %?140?%)}.contents[data-v-0c9226bf]{padding-top:%?20?%;padding-bottom:%?100?%;box-sizing:border-box}#signatureImg[data-v-0c9226bf]{background-color:#eee}.caozuo[data-v-0c9226bf]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?100?%;width:%?750?%;position:fixed;left:0;bottom:0}.caozuo uni-view[data-v-0c9226bf]{width:%?375?%;text-align:center;height:%?100?%;line-height:%?100?%;color:#fff}.caozuo uni-view[data-v-0c9226bf]:active{background-color:#ccc;color:#333}.chongqian[data-v-0c9226bf]{background-color:#ff8f58}.over[data-v-0c9226bf]{background-color:#0599d7}",""]),e.exports=t},9157:function(e,t,n){"use strict";var i=n("3635"),o=n.n(i);o.a},"93c6":function(e,t,n){"use strict";function i(e){if(0===e.indexOf("_www")||0===e.indexOf("_doc")||0===e.indexOf("_documents")||0===e.indexOf("_downloads"))return e;if(0===e.indexOf("file://"))return e;if(0===e.indexOf("/storage/emulated/0/"))return e;if(0===e.indexOf("/")){var t=plus.io.convertAbsoluteFileSystem(e);if(t!==e)return t;e=e.substr(1)}return"_www/"+e}function o(e){return new Promise((function(t,n){if("object"===typeof window&&"document"in window){if("function"===typeof FileReader){var o=new XMLHttpRequest;return o.open("GET",e,!0),o.responseType="blob",o.onload=function(){if(200===this.status){let e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=n,e.readAsDataURL(this.response)}},o.onerror=n,void o.send()}var a=document.createElement("canvas"),c=a.getContext("2d"),r=new Image;return r.onload=function(){a.width=r.width,a.height=r.height,c.drawImage(r,0,0),t(a.toDataURL()),a.height=a.width=0},r.onerror=n,void(r.src=e)}"object"!==typeof plus?"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t("data:image/png;base64,"+e.data)},fail:function(e){n(e)}}):n(new Error("not support")):plus.io.resolveLocalFileSystemURL(i(e),(function(e){e.file((function(e){var i=new plus.io.FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e)},i.readAsDataURL(e)}),(function(e){n(e)}))}),(function(e){n(e)}))}))}function a(e){return new Promise((function(t,n){if("object"===typeof window&&"document"in window){e=e.split(",");var i=e[0].match(/:(.*?);/)[1],o=atob(e[1]),a=o.length,c=new Uint8Array(a);while(a--)c[a]=o.charCodeAt(a);return t((window.URL||window.webkitURL).createObjectURL(new Blob([c],{type:i})))}var r=e.match(/data\:\S+\/(\S+);/);r?r=r[1]:n(new Error("base64 error"));var s=Date.now()+"."+r;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var u=wx.env.USER_DATA_PATH+"/"+s;wx.getFileSystemManager().writeFile({filePath:u,data:e.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){t(u)},fail:function(e){n(e)}})}else n(new Error("not support"));else{var l=new plus.nativeObj.Bitmap("bitmap"+Date.now());l.loadBase64Data(e,(function(){var e="_doc/uniapp_temp/"+s;l.save(e,{},(function(){l.clear(),t(e)}),(function(e){l.clear(),n(e)}))}),(function(e){l.clear(),n(e)}))}}))}n.r(t),n.d(t,"pathToBase64",(function(){return o})),n.d(t,"base64ToPath",(function(){return a}))},aa2b:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".title-top[data-v-01ab5aff]{font-size:%?40?%;line-height:%?110?%;height:%?110?%;width:100%;color:#f1f1f1;background-color:#007549;z-index:1;position:fixed;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),e.exports=t},b957:function(e,t,n){var i=n("aa2b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n("4f06").default;o("545bc1d8",i,!0,{sourceMap:!1,shadowMode:!1})},bf4b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{title:{type:String,default:"工单日历"}},data:function(){return{}},methods:{goBack:function(){uni.navigateBack({})}}};t.default=i},cc47:function(e,t,n){"use strict";n.r(t);var i=n("dca4"),o=n("cdf4");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("e38b");var c,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"01ab5aff",null,!1,i["a"],c);t["default"]=s.exports},cdf4:function(e,t,n){"use strict";n.r(t);var i=n("bf4b"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},dca4:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"title-top"},[i("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[i("v-uni-view",{staticStyle:{"margin-left":"20upx",display:"flex","align-items":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack()}}},[i("v-uni-image",{staticStyle:{height:"40upx",width:"38upx"},attrs:{src:n("66e1").replace(/^\./,""),mode:"scaleToFill"}})],1),i("v-uni-text",{staticStyle:{"margin-left":"20upx","font-size":"36upx"}},[e._v(e._s(e.title))])],1)],1)],1)},a=[]},e38b:function(e,t,n){"use strict";var i=n("b957"),o=n.n(i);o.a},f90f:function(e,t,n){"use strict";n.r(t);var i=n("32be"),o=n("3942");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("9157");var c,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"0c9226bf",null,!1,i["a"],c);t["default"]=s.exports}}]);