(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-project-project"],{"0113":function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("fb6a"),i("accc"),i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("d801")),o=a(i("215a")),s=a(i("3922")),l=a(i("f892")),r=a(i("2934")),c=a(i("396f")),d=a(i("7ea6")),u={mixins:[d.default],components:{Distance:n.default,goBackTime:o.default,uinput:s.default,upicker:l.default,uniLoadMore:c.default,MescrollMixin:d.default},data:function(){return{downOption:{native:!0},upOption:{noMoreSize:4,empty:{tip:"~ 搜索无数据 ~",btnText:"去看看"}},value:"",type:"text",time:"",title:"项目清单",isShowList:!0,latitude:39.909,longitude:116.39742,mapClass:{width:"100%",height:"600upx"},covers:[{latitude:39.909,longitude:116.39742,iconPath:"../../../static/ic_map.png"},{latitude:39.9,longitude:116.39,iconPath:"../../../static/ic_map.png"}],params:{year:!0,month:!0,day:!1,hour:!1,minute:!1,second:!1},show:!1,planList:[],newPage:1,loadingText:"加载中...",loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}},onLoad:function(){var t=(new Date).toISOString().slice(0,4),e=(new Date).toISOString().slice(6,7),i=e<10?"0"+e:e;this.time=t+"年"+i+"月",this.mapClass.height=(2*(wx.getSystemInfoSync().windowHeight-110)).toString()+"upx"},onReachBottom:function(){this.newPage+=1},onPullDownRefresh:function(){this.newPage=1},methods:{upCallback:function(t){var e=this,i="&self_pname="+this.value;r.default.commonList("ql_wx_programme","desc",t.num,t.size,i).then((function(i){1!=t.num&&t.num||(e.planList=[]),i&&i.data&&i.data.result&&i.data.result.data&&i.data.result.data.records&&(e.mescroll.endBySize(i.data.result.data.records.length,i.data.result.data.total),e.planList=e.planList.concat(i.data.result.data.records))})).catch((function(){e.mescroll.endErr()}))},chaxun:function(){console.log(this.value)},jumpDetails:function(t){this.$router.push({path:"/pages/workcalendar/WorkDetails?type=1&id="+t.id})},pickTime:function(){1==this.show?this.show=!1:this.show=!0},confirm:function(t){console.log(t),null!=t&&(this.time=t.year+"年"+t.month+"月")},mapClick:function(){this.isShowList=!this.isShowList},onMoreNewsData:function(){var t=this;if(0!==this.loadingType)return!1;this.loadingType=1,uni.showNavigationBarLoading(),r.default.commonList("ql_wx_programme","desc",this.newPage,10).then((function(e){if(console.log("项目列表 数据："),console.log(e),e&&e.data&&e.data.result&&e.data.result.data&&e.data.result.data.records){for(var i,a=[],n=0;n<e.data.result.data.records.length;n++){var o=e.data.result.data.records[n],s={number:o.programme_no,name:o.project_name,times:o.create_time,serviceType:o.insect_type,id:o.id,remaind:"5"};a.push(s)}console.log(a),a.length<10?t.loadingType=2:t.loadingType=0,(i=t.planList).push.apply(i,a),uni.hideNavigationBarLoading()}}))},onOnePageData:function(){var t=this;this.loadingType=0,uni.showNavigationBarLoading(),r.default.commonList("ql_wx_programme","desc",1,10).then((function(e){if(console.log("项目列表 数据："),console.log(e),e&&e.data&&e.data.result&&e.data.result.data&&e.data.result.data.records){for(var i=[],a=0;a<e.data.result.data.records.length;a++){var n=e.data.result.data.records[a],o={number:n.programme_no,name:n.project_name,times:n.create_time,serviceType:n.insect_type,id:n.id,remaind:"5"};i.push(o)}console.log(i),t.planList=i}uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()})).catch((function(){uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()}))}}};e.default=u},1331:function(t,e,i){t.exports=i.p+"static/img/BasicsBg.369bafaf.png"},"1d5b":function(t,e,i){"use strict";i.r(e);var a=i("0113"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"32c4":function(t,e,i){"use strict";i.r(e);var a=i("c697"),n=i("1d5b");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("ebad");var s,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"30f2e636",null,!1,a["a"],s);e["default"]=r.exports},"5f66":function(t,e,i){var a=i("d6f4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6ec74b7a",a,!0,{sourceMap:!1,shadowMode:!1})},c697:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("goBackTime",{attrs:{title:t.title,pickTime:t.pickTime,time:t.time}}),a("v-uni-view",{staticClass:"searchBg"},[a("v-uni-view",{staticClass:"viewSearch"},[a("v-uni-image",{staticStyle:{width:"30upx",height:"30upx","margin-left":"30%"},attrs:{src:i("7dd5").replace(/^\./,"")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}}),a("uinput",{staticStyle:{color:"#000000","margin-left":"10upx","margin-right":"10upx"},attrs:{type:t.type,placeholder:"请输入项目内容"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("v-uni-view",{staticStyle:{"margin-left":"20upx",display:"flex","align-items":"center","justify-content":"center"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.mapClick.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:t.isShowList?"../../../static/ic_map.png":"../../../static/ic_map_list.png",mode:"scaleToFill"}})],1)],1),a("mescroll-body",{ref:"mescrollRef",attrs:{down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[t.isShowList?a("v-uni-view",{staticStyle:{"margin-top":"220upx"}},t._l(t.planList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"list-plan",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpDetails(e)}}},[a("Distance",{attrs:{isShow:!0,workOrderNo:e.programme_no,name:e.project_name,times:e.service_address,serviceType:e.contract_type,number:e.days_left}})],1)})),1):t._e()],1),t.isShowList?t._e():a("v-uni-view",{staticStyle:{"margin-top":"220upx"}},[a("v-uni-map",{style:t.mapClass,attrs:{latitude:t.latitude,longitude:t.longitude,markers:t.covers}}),a("v-uni-scroll-view",{staticClass:"scrollClsss",attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"scrollClsssItem"},t._l(t.planList,(function(e,n){return a("v-uni-view",{key:n,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpDetails(e)}}},[a("v-uni-view",{staticStyle:{"margin-left":"40upx","margin-right":"40upx","background-color":"#FFFFFF"}},[a("v-uni-image",{staticStyle:{width:"400upx",height:"260upx"},attrs:{src:i("1331").replace(/^\./,""),mode:"scaleToFill"}}),a("v-uni-view",{staticClass:"localClass"},[a("v-uni-text",{staticClass:"localName"},[t._v("希尔顿")]),a("v-uni-text",{staticClass:"anceClass"},[t._v("200m")]),a("v-uni-view",{staticStyle:{"margin-left":"20upx","justify-content":"center",display:"flex","align-items":"center"}},[a("v-uni-image",{staticStyle:{width:"101upx",height:"52upx"},attrs:{src:i("dfcb").replace(/^\./,""),mode:"scaleToFill"}})],1)],1)],1)],1)})),1)],1)],1),a("upicker",{attrs:{"confirm-color":"#32734D",mode:"time",params:t.params},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},o=[]},d6f4:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-30f2e636]{background-color:#fafafa}.searchBg[data-v-30f2e636]{background-color:#32734d;height:%?100?%;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;top:%?110?%;z-index:1}.viewSearch[data-v-30f2e636]{width:80%;height:%?60?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:%?60?%}.list-plan[data-v-30f2e636]{height:%?280?%;line-height:%?280?%;margin:%?36?%;width:90%;background-color:#fff;\n\t/* border-radius: 24upx;\n\tbox-shadow: 2upx 4upx 2upx #888888; */border:%?2?% solid #ebeced;border-radius:%?24?%}.scrollClsss[data-v-30f2e636]{position:absolute;bottom:%?260?%;left:0}.scrollClsssItem[data-v-30f2e636]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:%?1800?%}.localClass[data-v-30f2e636]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:auto;\n\t/* padding-right: 20upx; */padding-bottom:%?20?%;-webkit-justify-content:space-around;justify-content:space-around}.localName[data-v-30f2e636]{height:%?40?%;font-size:%?34?%;font-weight:400;text-align:left;color:#000;margin-left:%?20?%}.anceClass[data-v-30f2e636]{height:%?29?%;font-size:%?24?%;font-weight:400;text-align:left;color:#000;margin-left:%?20?%;margin-top:%?16?%}body.?%PAGE?%[data-v-30f2e636]{background-color:#fafafa}",""]),t.exports=e},dfcb:function(t,e,i){t.exports=i.p+"static/img/ic_map_go.34a8a5a0.png"},ebad:function(t,e,i){"use strict";var a=i("5f66"),n=i.n(a);n.a}}]);